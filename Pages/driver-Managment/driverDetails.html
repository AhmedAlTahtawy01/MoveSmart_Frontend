<!DOCTYPE html>
<html lang="ar">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ุชูุงุตูู ุงูุณุงุฆู</title>
  <link rel="stylesheet" href="../../Assets/Styles/driver-Managment/driverDetails.css" />
</head>

<body>
  <div class="container">
    <!-- ุงููุณู ุงูุนููู -->
    <div class="top-section">
      <div class="driver-container">
        <h2 class="driver-title">ุชูุงุตูู ุงูุณุงุฆู</h2>
        <div class="driver-info">
          <img src="../../Assets/Images/driver-Avt.png" alt="ุตูุฑุฉ ุงูุณุงุฆู" class="profile-pic" />
          <div class="driver-details-container">
            <h2 id="driver-name">ุงุณู ุงูุณุงุฆู</h2>
            <p id="driver-phone" class="driver-details">
              ุฑูู ุงููุงุชู: ุบูุฑ ูุชููุฑ
            </p>
            <p id="driver-status" class="driver-details">ุงูุญุงูุฉ: ุบูุฑ ูุชููุฑ</p>
            <p id="driver-national-id" class="driver-details">
              ุงูุฑูู ุงููููู: ุบูุฑ ูุชููุฑ
            </p>
          </div>
        </div>
      </div>

      <div class="left-side">
        <button class="back-btn" onclick="goBackToDriverList()">โฌ ุฑุฌูุน</button>
        <div class="actions">
          <button class="delete-btn" id="delete-btn">๐ ุญุฐู</button>
        </div>
      </div>
    </div>

    <div class="tabs-container">
      <div class="tabs">
        <button class="tab active" data-tab="driver-info">
          ูุนูููุงุช ุงูุณุงุฆู
        </button>
        <button class="tab" data-tab="work-history">ุณุฌู ุฃูุงูุฑ ุงูุดุบู</button>
        <button class="tab" data-tab="vacation-record">ุณุฌู ุงูุฅุฌุงุฒุงุช</button>
      </div>
      <button class="save-btn" id="save-btn">โ ุญูุธ</button>
      <button class="add-vacation-btn" id="add-vacation-btn">โ ุฅุถุงูุฉ ุฅุฌุงุฒุฉ</button>
    </div>

    <!-- ูุนูููุงุช ุงูุณุงุฆู -->
    <div class="tab-content" id="driver-info">
      <div class="form-container">
        <div class="input-group">
          <label>ุงูุงุณู :</label>
          <input type="text" name="name" placeholder="ุฃุฏุฎู ุงูุงุณู" />
        </div>
        <div class="input-group">
          <label>ุฑูู ุงูุณูุงุฑุฉ:</label>
          <input type="text" name="vehicleID" placeholder="ุฃุฏุฎู ุฑูู ุงูุณูุงุฑุฉ" />
        </div>

        <div class="input-group">
          <label>ุฑูู ุงููุงุชู:</label>
          <input type="text" name="phone" placeholder="ุฃุฏุฎู ุฑูู ุงููุงุชู" />
        </div>
        <div class="input-group">
          <label>ุงูุฑูู ุงููููู:</label>
          <input type="text" name="nationalNum" placeholder="ุฃุฏุฎู ุงูุฑูู ุงููููู" />
        </div>
        <div class="input-group">
          <label>ุงูุญุงูุฉ:</label>
          <select name="status">
            <option value="1">ูุชุงุญ</option>
            <option value="2">ุบุงุฆุจ</option>
            <option value="3">ููุฏ ุงูุนูู</option>
          </select>
        </div>
      </div>
    </div>

    <!-- ุณุฌู ุฃูุงูุฑ ุงูุดุบู -->
    <div class="tab-content" id="work-history" style="display: none">
      <div class="work-orders-container">
        <table class="orders-table">
          <thead>
            <tr>
              <th>ุงูุณูุงุฑุฉ</th>
              <th>ุงูุชุงุฑูุฎ</th>
              <th>ุงูููุช</th>
              <th>ุงูุฑุญูุฉ</th>
              <th>KM/ุงููุณุงูุฉ</th>
              <th>ุฑูู ุฃูุฑ ุงูุดุบู</th>
            </tr>
          </thead>
          <tbody id="work-orders-tbody">
            <!-- JavaScript will populate this -->
          </tbody>
        </table>
        <div id="no-work-orders" style="display: none; text-align: center; padding: 40px; color: #666;">
          <p>ูุง ุชูุฌุฏ ุฃูุงูุฑ ุดุบู ูุณุฌูุฉ ููุฐุง ุงูุณุงุฆู</p>
        </div>
      </div>
    </div>

    <!-- ุณุฌู ุงูุฅุฌุงุฒุงุช -->
    <div class="tab-content" id="vacation-record" style="display: none">
      <div class="vacation-header">
        <table class="vacation-table">
          <thead>
            <tr>
              <th>ูู</th>
              <th>ุฅูู</th>
              <th>ุงููุชุฑุฉ ุจุงูุฃูุงู</th>
              <th>ุงูุฅุฌุฑุงุกุงุช</th>
            </tr>
          </thead>
          <tbody id="vacation-tbody">
            <!-- JavaScript will populate this -->
          </tbody>
        </table>
      </div>
      <div class="vacation-content" id="vacation-content">
        <!-- JavaScript will inject content here -->
      </div>
    </div>

    <!-- ูุงูุฐุฉ ุฅุฏุฎุงู ุงูุฅุฌุงุฒุฉ -->
    <div id="leave-modal" class="modal" style="display: none">
      <div class="modal-content">
        <span class="close-modal" id="close-modal">&times;</span>
        <h3>ุฅุถุงูุฉ ุฅุฌุงุฒุฉ ุฌุฏูุฏุฉ</h3>
        <div class="modal-form">
          <label>ูู: <input type="date" id="leave-from" /></label>
          <label>ุฅูู: <input type="date" id="leave-to" /></label>
          <label>ุณุงุฆู ุจุฏูู:
            <select id="substitute-driver">
              <option value="">ุงุฎุชุฑ ุณุงุฆู ุจุฏูู</option>
            </select>
          </label>
          <button id="save-leave-btn">ุญูุธ ุงูุฅุฌุงุฒุฉ</button>
        </div>
      </div>
    </div>

    <!-- Loading indicator -->
    <div id="loading-indicator" style="display: none; text-align: center; padding: 40px;">
      <p>ุฌุงุฑู ุงูุชุญููู...</p>
    </div>
  </div>

  <script>
    // Global function for navigation back to driver list
    function goBackToDriverList() {
      // Navigate back to driver list through shared layout
      if (window.parent && window.parent.changeContent) {
        window.parent.changeContent('drivers');
      } else if (window.changeContent) {
        window.changeContent('drivers');
      } else {
        // Fallback: use browser back
        window.history.back();
      }
    }
  </script>
</body>

</html>
